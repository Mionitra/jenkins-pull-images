---
# pull_lightest_images.yml
# Pulls 5 of the lightest known Docker images from Docker Hub

- name: Pull 5 Lightest Docker Images
  hosts: localhost
  connection: local
  gather_facts: false

  vars:
    light_images:
      - "busybox:latest"       # ~1 MB
      - "alpine:latest"        # ~7 MB
      - "alpine:3.18"          # ~7 MB
      - "debian:bookworm-slim"          # ~30 MB
      - "nginx:alpine"         # ~42 MB
    
  tasks:

    - name: Pull each image
      command: docker pull {{ item }}
      loop: "{{ light_images }}"
      register: pull_output
      ignore_errors: true

    - name: Show pull results
      debug:
        msg: "Pulled: {{ item.item }}"
      loop: "{{ pull_output.results }}"
      loop_control:
        label: "{{ item.item }}"
